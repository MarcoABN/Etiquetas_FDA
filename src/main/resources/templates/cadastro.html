<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastro - Etiqueta Nutricional</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #f0f2f5; padding: 20px; }
        .container { max-width: 950px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { color: #333; border-bottom: 2px solid #0056b3; padding-bottom: 10px; margin-bottom: 20px; }
        .section-title { font-weight: bold; color: #555; margin-top: 25px; margin-bottom: 10px; background: #e9ecef; padding: 10px; border-radius: 4px; border-left: 5px solid #0056b3; }
        .form-row { display: flex; gap: 15px; margin-bottom: 10px; flex-wrap: wrap; }
        .col { flex: 1; min-width: 150px; }
        label { display: block; margin-bottom: 4px; font-weight: 600; font-size: 12px; color: #495057; }
        input[type="text"], textarea { width: 100%; padding: 8px; border: 1px solid #ced4da; border-radius: 4px; box-sizing: border-box; font-size: 14px; }
        .btn-submit { background-color: #28a745; color: white; padding: 15px; border: none; border-radius: 4px; width: 100%; font-size: 18px; cursor: pointer; margin-top: 30px; }
        .btn-back { display: inline-block; margin-bottom: 15px; text-decoration: none; color: #6c757d; font-weight: bold; }
        
        /* Tabela Nutricional */
        .nutri-row { display: flex; gap: 10px; border-bottom: 1px dashed #eee; padding-bottom: 5px; margin-bottom: 5px; align-items: flex-end; }
        .nutri-label { flex: 3; font-weight: bold; color: #333; align-self: center; font-size: 14px; }
        .nutri-input { flex: 1; }
        .nutri-input input { text-align: center; }

        /* GRID COMPACTO PARA VITAMINAS */
        .vitamin-grid { 
            display: grid; 
            grid-template-columns: repeat(4, 1fr); 
            gap: 10px; 
            background: #f8f9fa; 
            padding: 15px; 
            border-radius: 4px; 
            border: 1px solid #dee2e6; 
        }
        .vitamin-item label { font-size: 11px; color: #666; margin-bottom: 2px; }
        .vitamin-item input { padding: 5px; font-size: 12px; }
    </style>
</head>
<body>

<div class="container">
    <a href="/produtos/lista" class="btn-back">‚Üê Voltar para Lista</a>
    <h2>Novo Cadastro</h2>

    <div th:if="${sucesso}" class="alert alert-success" th:text="${sucesso}"></div>
    <div th:if="${erro}" class="alert alert-danger" th:text="${erro}"></div>

    <form th:action="@{/produtos/salvar}" th:object="${product}" method="post">
        
        <input type="hidden" th:field="*{id}">
		<div class="section-title">Identifica√ß√£o</div>
		        <div class="form-row">
		            <div class="col" style="flex: 0 0 150px;">
		                <label>C√≥d. WinThor</label>
		                <input type="text" th:field="*{codprod}" required autofocus>
		            </div>
		            
		            <div class="col">
		                <label>Descri√ß√£o Interna (PT-BR)</label>
		                <input type="text" th:field="*{productName}" placeholder="Ex: Biscoito Morango" required>
		            </div>
		            
		            <div class="col">
		                <label style="color: #d9534f;">Descri√ß√£o Etiqueta (Ingl√™s/FDA)</label>
		                <input type="text" th:field="*{productNameEn}" placeholder="Ex: Strawberry Wafer" required>
		            </div>
		        </div>

        <div class="section-title">Por√ß√µes</div>
        <div class="form-row">
            <div class="col"><label>Por√ß√µes p/ Emb.</label><input type="text" th:field="*{servingsPerContainer}"></div>
            <div class="col"><label>Peso Por√ß√£o (g)</label><input type="text" th:field="*{servingWeight}"></div>
            <div class="col"><label>Qtd. Por√ß√£o</label><input type="text" th:field="*{servingSizeQuantity}"></div>
            <div class="col"><label>Unidade</label><input type="text" th:field="*{servingSizeUnit}"></div>
        </div>

        <div class="section-title">Tabela Nutricional (Principal)</div>

        <div class="nutri-row" style="background-color: #fff8e1; padding: 5px;">
            <div class="nutri-label">Valor Energ√©tico (Kcal)</div>
            <div class="nutri-input"><input type="text" th:field="*{calories}"></div>
            <div class="nutri-input" style="visibility: hidden;"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Carboidratos</div>
            <div class="nutri-input"><input type="text" th:field="*{totalCarb}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{totalCarbDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Fibras Alimentares</div>
            <div class="nutri-input"><input type="text" th:field="*{fiber}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{fiberDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">A√ß√∫cares Totais</div>
            <div class="nutri-input"><input type="text" th:field="*{totalSugars}" placeholder="g"></div>
            <div class="nutri-input" style="background: #eee;"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">A√ß√∫cares Adicionados</div>
            <div class="nutri-input"><input type="text" th:field="*{addedSugars}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{addedSugarsDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">√Ålcool de A√ß√∫car (Sugar Alcohol)</div>
            <div class="nutri-input"><input type="text" th:field="*{sugarAlcohol}" placeholder="g"></div>
            <div class="nutri-input" style="background: #eee;"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Prote√≠nas</div>
            <div class="nutri-input"><input type="text" th:field="*{protein}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{proteinDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Gorduras Totais</div>
            <div class="nutri-input"><input type="text" th:field="*{totalFat}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{totalFatDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Gorduras Saturadas</div>
            <div class="nutri-input"><input type="text" th:field="*{satFat}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{satFatDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Gorduras Trans</div>
            <div class="nutri-input"><input type="text" th:field="*{transFat}" placeholder="g"></div>
            <div class="nutri-input"><input type="text" th:field="*{transFatDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Gorduras Poli-insaturadas</div>
            <div class="nutri-input"><input type="text" th:field="*{polyFat}" placeholder="g"></div>
            <div class="nutri-input" style="background: #eee;"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Gorduras Monoinsaturadas</div>
            <div class="nutri-input"><input type="text" th:field="*{monoFat}" placeholder="g"></div>
            <div class="nutri-input" style="background: #eee;"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">S√≥dio</div>
            <div class="nutri-input"><input type="text" th:field="*{sodium}" placeholder="mg"></div>
            <div class="nutri-input"><input type="text" th:field="*{sodiumDv}" placeholder="%VD"></div>
        </div>
        <div class="nutri-row">
            <div class="nutri-label">Colesterol</div>
            <div class="nutri-input"><input type="text" th:field="*{cholesterol}" placeholder="mg"></div>
            <div class="nutri-input"><input type="text" th:field="*{cholesterolDv}" placeholder="%VD"></div>
        </div>

        <div class="section-title">Composi√ß√£o e Alerg√™nicos</div>
        <div class="form-row">
            <div class="col">
                <label>Ingredientes</label>
                <textarea th:field="*{ingredients}" rows="4"></textarea>
            </div>
        </div>

        <div class="form-row">
            <div class="col">
                <label>Contains (Cont√©m) - Ex: Wheat, Soy</label>
                <input type="text" th:field="*{allergensContains}" placeholder="Obrigat√≥rio se houver alerg√™nicos">
            </div>
            <div class="col">
                <label>May Contain (Pode Conter) - Ex: Peanuts</label>
                <input type="text" th:field="*{allergensMayContain}" placeholder="Opcional (Precau√ß√£o)">
            </div>
        </div>

        <div class="section-title">Vitaminas e Minerais (Opcional)</div>
        <div class="vitamin-grid">
            <div class="vitamin-item"><label>Vit. D</label><input type="text" th:field="*{vitaminD}" placeholder="mcg/%"></div>
            <div class="vitamin-item"><label>C√°lcio</label><input type="text" th:field="*{calcium}" placeholder="mg/%"></div>
            <div class="vitamin-item"><label>Ferro</label><input type="text" th:field="*{iron}" placeholder="mg/%"></div>
            <div class="vitamin-item"><label>Pot√°ssio</label><input type="text" th:field="*{potassium}" placeholder="mg/%"></div>
            
            <div class="vitamin-item"><label>Vit. A</label><input type="text" th:field="*{vitaminA}"></div>
            <div class="vitamin-item"><label>Vit. C</label><input type="text" th:field="*{vitaminC}"></div>
            <div class="vitamin-item"><label>Vit. E</label><input type="text" th:field="*{vitaminE}"></div>
            <div class="vitamin-item"><label>Vit. K</label><input type="text" th:field="*{vitaminK}"></div>
            <div class="vitamin-item"><label>Tiamina</label><input type="text" th:field="*{thiamin}"></div>
            <div class="vitamin-item"><label>Riboflavina</label><input type="text" th:field="*{riboflavin}"></div>
            <div class="vitamin-item"><label>Niacina</label><input type="text" th:field="*{niacin}"></div>
            <div class="vitamin-item"><label>Vit. B6</label><input type="text" th:field="*{vitaminB6}"></div>
            <div class="vitamin-item"><label>Folato</label><input type="text" th:field="*{folate}"></div>
            <div class="vitamin-item"><label>Vit. B12</label><input type="text" th:field="*{vitaminB12}"></div>
            <div class="vitamin-item"><label>Biotina</label><input type="text" th:field="*{biotin}"></div>
            <div class="vitamin-item"><label>√Åc. Panto.</label><input type="text" th:field="*{pantothenicAcid}"></div>
            <div class="vitamin-item"><label>F√≥sforo</label><input type="text" th:field="*{phosphorus}"></div>
            <div class="vitamin-item"><label>Iodo</label><input type="text" th:field="*{iodine}"></div>
            <div class="vitamin-item"><label>Magn√©sio</label><input type="text" th:field="*{magnesium}"></div>
            <div class="vitamin-item"><label>Zinco</label><input type="text" th:field="*{zinc}"></div>
            <div class="vitamin-item"><label>Sel√™nio</label><input type="text" th:field="*{selenium}"></div>
            <div class="vitamin-item"><label>Cobre</label><input type="text" th:field="*{copper}"></div>
            <div class="vitamin-item"><label>Mangan√™s</label><input type="text" th:field="*{manganese}"></div>
            <div class="vitamin-item"><label>Cromo</label><input type="text" th:field="*{chromium}"></div>
            <div class="vitamin-item"><label>Molibd√™nio</label><input type="text" th:field="*{molybdenum}"></div>
            <div class="vitamin-item"><label>Cloreto</label><input type="text" th:field="*{chloride}"></div>
        </div>

        <button type="submit" class="btn-submit">üíæ Salvar Produto</button>
    </form>
</div>

</body>
</html>